<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>FINTRACK – Perfil</title>
    
    <link rel="stylesheet" href="../css/perfil.css">
</head>

<body class="bg-dashboard">

<header class="dashboard-header">
    <h1>FINTRACK <img src="../png/flecha.png" class="logo-arrow" alt="Logo"></h1>

    <div class="user-info">
        <span id="welcomeMsg">Hola...</span>
        <button id="logoutBtn" class="btn-logout">Cerrar Sesión</button>
    </div>
</header>

<!-- MENÚ HAMBURGUESA -->
<div id="menuToggle" class="menu-toggle">
    <span></span><span></span><span></span>
</div>

<!-- MENÚ LATERAL -->
<nav id="sideMenu" class="side-menu">
    <a href="inicio.html"><i class='bx bx-grid-alt'></i> Inicio</a>
    <a href="dashboard.html"><i class='bx bx-bar-chart-alt-2'></i> Dashboard</a>
    <a href="planes.html"><i class='bx bx-calendar-check'></i> Planes</a>
    <a href="perfil.html"><i class='bx bx-user'></i> Perfil</a>
</nav>


<div id="menuOverlay" class="menu-overlay"></div>

<main class="perfil-container">
    <div class="perfil-card">

        <!-- FOTO -->
        <div class="perfil-foto-wrapper">
            <img id="fotoPerfil" src="../png/user-default.png" class="perfil-foto" alt="Foto de Perfil">

            <div class="btn-lapiz" id="btnCambiarFoto">
                <svg width="42" height="42" fill="white" viewBox="0 0 24 24">
                   
                   <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                </svg>
            </div>

            <input type="file" id="fileFoto" style="display:none" accept="image/*">
        </div>

        <!-- FORMULARIO -->
        <div class="perfil-info">

            <div class="perfil-item">
                <label>Correo</label>
                <input id="correo" type="email" disabled>
            </div>

            <div class="perfil-item">
                <label>Nombre</label>
                <input id="nombre" type="text">
            </div>

            <div class="perfil-item">
                <label>Apellido</label>
                <input id="apellido" type="text">
            </div>

        </div>

        <!-- BOTONES -->
        <button id="btnGuardar" class="btn-guardar">
            GUARDAR CAMBIOS
        </button>

        <button id="btnOpenPassword" class="btn-password">
            Cambiar Contraseña
        </button>

    </div>
</main>

<!-- MODAL CONTRASEÑA -->
<div id="modalPassword" class="modal-password">
    <div class="modal-content-password">

        <h2>Cambiar Contraseña</h2>

        <label>Contraseña Actual</label>
        <input type="password" id="oldPassword">

        <label>Nueva Contraseña</label>
        <input type="password" id="newPassword">

        <label>Confirmar Contraseña</label>
        <input type="password" id="confirmPassword">

        <div class="modal-buttons">
            <button id="btnCancelPassword" class="btn-cancel-pass">Cancelar</button>
            <button id="btnSavePassword" class="btn-save-pass">Guardar</button>
        </div>

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="../js/perfil.js" type="module"></script>

<script>
    // Lógica del menú hamburguesa con el nuevo efecto blur
    const toggle = document.getElementById("menuToggle");
    const menu = document.getElementById("sideMenu");
    const overlay = document.getElementById("menuOverlay");
    const mainContent = document.querySelector("main"); // Opcional si usas push content

    if(toggle && menu && overlay){
        toggle.addEventListener("click", () => {
            toggle.classList.toggle("open");
            menu.classList.toggle("open");
            overlay.classList.toggle("open");
            if(mainContent) mainContent.classList.toggle("push-content");
        });

        overlay.addEventListener("click", () => {
            toggle.classList.remove("open");
            menu.classList.remove("open");
            overlay.classList.remove("open");
            if(mainContent) mainContent.classList.remove("push-content");
        });
    }
</script>

</body>
</html>